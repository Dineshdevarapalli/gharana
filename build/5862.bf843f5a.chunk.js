"use strict";(self.webpackChunkart_gharana_api=self.webpackChunkart_gharana_api||[]).push([[5862],{27887:(x,h,n)=>{n.d(h,{r:()=>C});var d=n(67294),m=n(41580),L=n(45697),R=n.n(L),P=n(99168);function M(D,E,g){if(!D||!E)return{display:"none"};const{x:k,y:b}=g;return{transform:`translate(${k}px, ${b}px)`}}function C({renderItem:D}){const{itemType:E,isDragging:g,item:k,initialOffset:b,currentOffset:S,mouseOffset:U}=(0,P.useDragLayer)(I=>({item:I.getItem(),itemType:I.getItemType(),initialOffset:I.getInitialSourceClientOffset(),currentOffset:I.getSourceClientOffset(),isDragging:I.isDragging(),mouseOffset:I.getClientOffset()}));return g?d.createElement(m.x,{height:"100%",left:0,position:"fixed",pointerEvents:"none",top:0,zIndex:100,width:"100%"},d.createElement(m.x,{style:M(b,S,U)},D({type:E,item:k}))):null}C.propTypes={renderItem:R().func.isRequired}},99781:(x,h,n)=>{var d=n(67294);const m=(0,d.createContext)();var L=null},75642:(x,h,n)=>{n.d(h,{PL:()=>P,Y9:()=>M.Y,zE:()=>oe,Ky:()=>le,fi:()=>B,zH:()=>O,r5:()=>c});var d=n(67294),m=n(86706),L=n(21323);const P=()=>{const s=(0,m.v9)(L.Z),e=(0,d.useCallback)(t=>s?.components?.[t]??{},[s]);return{...s,getComponentLayout:e}};var M=n(15699),C=n(52358),D=n(52861),E=n(84668),g=n(18172);const k={error:null,isLoading:!0,layout:{},layouts:{}},S=(s,e)=>(0,g.ZP)(s,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.error=null,t.layout={};break}case"GET_DATA_SUCCEEDED":{const a=e.data.contentType.uid;t.layout=e.data,t.layouts[a]=e.data,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1,t.error=e.error;break}case"SET_LAYOUT_FROM_STATE":{t.error=null,t.layout=s.layouts[e.uid];break}case"UPDATE_LAYOUT":{const a=s.layout;t.layout={...a,contentType:{uid:a.contentType.uid,...e.newLayout.contentType}},t.layouts[a.contentType.uid]={...a,contentType:{uid:a.contentType.uid,...e.newLayout.contentType}};break}default:return t}});var U=n(50361),I=n.n(U),X=n(27361),F=n.n(X),H=n(36968),K=n.n(H),re=n(13920);const Q=(s,e)=>e.find(t=>t.uid===s),J=(s,e)=>{const t=V(s,e),a=W(t.contentType,e),l=q(t.contentType,t.components);return K()(t,["contentType","layouts","edit"],a),K()(t,["contentType","layouts","list"],l),Object.keys(t.components).forEach(i=>{const y=W(t.components[i],e);K()(t,["components",i,"layouts","edit"],y)}),t},V=(s,e)=>{const t=(0,re.w8)(I()(s),e,"contentType"),{components:a,contentType:l}=t,i=y=>Object.keys(y.metadatas).reduce((T,v)=>{const A=F()(y,["attributes",v],{});let N=y.metadatas[v];if(A.type==="relation"){const fe=Q(A.targetModel,e),w=N.edit.mainField,$={name:w,schema:F()(fe,["attributes",w])};N={list:{...N.list,mainField:$},edit:{...N.edit,mainField:$}}}return T[v]=N,T},{});return K()(t,["contentType","metadatas"],i(l)),Object.keys(a).forEach(y=>{const T=a[y],v=i(T);K()(t,["components",y,"metadatas"],v)}),t},W=(s,e)=>s.layouts.edit.reduce((t,a)=>{const l=a.map(i=>{const y=F()(s,["attributes",i.name],{}),T={...i,fieldSchema:y,metadatas:F()(s,["metadatas",i.name,"edit"],{})};if(y.type==="relation"){const A=Q(y.targetModel,e).pluginOptions||{};K()(T,"targetModelPluginOptions",A),K()(T,"queryInfos",{shouldDisplayRelationLink:_(s,i.name,e)})}return T});return t.push(l),t},[]),q=(s,e)=>s.layouts.list.reduce((a,l)=>{const i=F()(s,["attributes",l],{}),y=F()(s,["metadatas",l,"list"],{}),T=i.type;if(T==="relation")return a.push({key:`__${l}_key__`,name:l,fieldSchema:i,metadatas:y}),a;if(T==="component"){const v=e[i.component],A=v.settings.mainField,N=v.attributes[A];return a.push({key:`__${l}_key__`,name:l,fieldSchema:i,metadatas:{...y,mainField:{...N,name:A}}}),a}return a.push({key:`__${l}_key__`,name:l,fieldSchema:i,metadatas:y}),a},[]),_=(s,e,t)=>{const a=F()(s,["attributes",e,"targetModel"],"");return j(t).includes(a)},j=s=>s.filter(e=>e.isDisplayed).map(({uid:e})=>e),G=J,oe=s=>{const[{error:e,isLoading:t,layout:a,layouts:l},i]=(0,d.useReducer)(S,k),y=(0,d.useMemo)(E.Vo,[]),{schemas:T}=(0,m.v9)(w=>y(w),m.wU),v=(0,d.useRef)(!0),{get:A}=(0,C.kY)(),N=(0,d.useCallback)(async(w,$)=>{if(l[w]){i({type:"SET_LAYOUT_FROM_STATE",uid:w});return}i({type:"GET_DATA"});try{const{data:{data:se}}=await A(`/content-manager/content-types/${w}/configuration`,{cancelToken:$.token});i({type:"GET_DATA_SUCCEEDED",data:G(se,T)})}catch(se){if(D.default.isCancel(se))return;v.current&&console.error(se),v.current&&i({type:"GET_DATA_ERROR",error:se})}},[l,T,A]);(0,d.useEffect)(()=>()=>{v.current=!1},[]),(0,d.useEffect)(()=>{const $=D.default.CancelToken.source();return N(s,$),()=>{$.cancel("Operation canceled by the user.")}},[s,N]);const fe=(0,d.useCallback)(w=>{i({type:"UPDATE_LAYOUT",newLayout:G(w,T)})},[T]);return{error:e,isLoading:t,layout:a,updateLayout:fe}},ie=s=>s["content-manager_app"].collectionTypeLinks;var ae=n(13218),ye=n.n(ae),Z=n(80129);const p=(s,e)=>Object.keys(s).reduce((t,a)=>{const l=s[a],i=F()(e,[a],l);return ye()(l)?{...t,[a]:p(l,i)}:(t[a]=i,t)},{}),ue=(s,e,t)=>{const a=s.find(({to:N})=>N.includes(e));if(!a)return"/";const{to:l,search:i}=a,y=(0,Z.parse)(i),T=(0,Z.parse)(t.substring(1)),v=p(y,T);return`${l}?${(0,Z.stringify)(v,{encode:!1})}`},le=s=>{const[{rawQuery:e}]=(0,C.Kx)(),t=(0,m.v9)(ie);return ue(t,s,e)};var pe=n(40703),Y=n(16550);const B=()=>{const{search:s}=(0,Y.TH)(),e=s?(0,Z.parse)(s.substring(1)):{};return e.plugins?(0,Z.stringify)({plugins:e.plugins},{encode:!1}):""},O=s=>{const e=(0,d.useRef)();return(0,d.useEffect)(()=>{e.current=s},[s]),e.current};var z=n(80015);const ce=(s,e,t)=>({type:z.m,permissions:s,__meta__:{plugins:e,containerName:t}}),ne=()=>({type:z.Q}),de=s=>s["content-manager_rbacManager"].permissions,me=s=>s.rbacProvider.collectionTypesRelatedPermissions,c=(s,e,t="listView")=>{const a=(0,m.v9)(me),l=(0,m.v9)(de),i=(0,m.I0)(),y=a[e];return(0,d.useEffect)(()=>y?(i(ce(y,s?s.plugins:null,t)),()=>{i(ne())}):()=>{},[y,i,s,t]),l};var u=n(99781);const o=()=>useContext(WysiwygContext),f=null},15699:(x,h,n)=>{n.d(h,{Y:()=>P});var d=n(67294),m=n(99168),L=n.n(m),R=n(40703);const P=(M,{type:C="STRAPI_DND",index:D,item:E={},onStart:g,onEnd:k,onGrabItem:b,onDropItem:S,onCancel:U,onMoveItem:I,dropSensitivity:X="regular"})=>{const F=(0,d.useRef)(null),[{handlerId:H},K]=(0,m.useDrop)({accept:C,collect(W){return{handlerId:W.getHandlerId()}},hover(W,q){if(!F.current)return;const _=W.index,j=D;if(_!==j){if(X==="regular"){const G=F.current.getBoundingClientRect(),ee=(G.bottom-G.top)/2,te=q.getClientOffset().y-G.top;if(_<j&&te<ee||_>j&&te>ee)return}I(j,_),W.index=j}}}),[{isDragging:re},Q,J]=(0,m.useDrag)({type:C,item(){g&&g();const{width:W}=F.current?.getBoundingClientRect()??{};return{index:D,width:W,...E}},end(){k&&k()},canDrag:M,isDragging:E.id?W=>E.id===W.getItem().id:void 0,collect:W=>({isDragging:W.isDragging()})}),V=(0,R.A)(M,D,{onGrabItem:b,onDropItem:S,onCancel:U,onMoveItem:I});return[{handlerId:H,isDragging:re,handleKeyDown:V},F,K,Q,J]}},40703:(x,h,n)=>{n.d(h,{A:()=>m});var d=n(67294);const m=(L,R,{onCancel:P,onDropItem:M,onGrabItem:C,onMoveItem:D})=>{const[E,g]=(0,d.useState)(!1),k=I=>{E&&(I==="UP"?D(R-1,R):I==="DOWN"&&D(R+1,R))},b=()=>{E?(M&&M(R),g(!1)):(C&&C(R),g(!0))},S=()=>{E&&(g(!1),P&&P(R))};return I=>{if(L&&!(I.key==="Tab"&&!E))switch(I.preventDefault(),I.key){case" ":case"Enter":b();break;case"Escape":S();break;case"ArrowDown":case"ArrowRight":k("DOWN");break;case"ArrowUp":case"ArrowLeft":k("UP");break;default:}}}},84668:(x,h,n)=>{n.d(h,{Jg:()=>D,KQ:()=>M,Vo:()=>C,Yg:()=>L});var d=n(20573),m=n(14506);const L=()=>g=>g["content-manager_app"]||m.E,R=()=>createSelector(L(),g=>g),P=()=>createSelector(L(),g=>g.models),M=()=>(0,d.P1)(L(),g=>({collectionTypeLinks:g.collectionTypeLinks,singleTypeLinks:g.singleTypeLinks})),C=()=>(0,d.P1)(L(),({components:g,models:k})=>({schemas:[...g,...k]})),D=(0,d.P1)(L(),g=>g.fieldSizes);var E=null},21323:(x,h,n)=>{n.d(h,{Z:()=>m});const m=L=>L["content-manager_editViewLayoutManager"].currentLayout},56723:(x,h,n)=>{n.d(h,{Z:()=>d});const d={COMPONENT:"component",EDIT_FIELD:"editField",FIELD:"field",DYNAMIC_ZONE:"dynamicZone",RELATION:"relation"}},69881:(x,h,n)=>{n.d(h,{Z:()=>m});const m=L=>`content-manager.${L}`},13920:(x,h,n)=>{n.d(h,{_Q:()=>te.Z,W3:()=>R,ko:()=>D,FE:()=>g,Di:()=>U,Ex:()=>me,du:()=>H,TA:()=>Q,Ts:()=>q,Uo:()=>j,IF:()=>ee,OB:()=>oe.Z,w8:()=>Z,kc:()=>ue});var d=n(50361),m=n.n(d);const R=(r,c,u)=>{if(Array.isArray(r)&&c>=0&&u>=0&&c<=r.length-1&&u<=r.length-1){const o=m()(r),f=o.splice(c,1);return o.splice(u,0,f[0]),o}return r};var P=n(7334),M=n.n(P);const D=r=>{const c=r.type;return c==="relation"?!M()(r.relationType).includes("morph"):!["json","dynamiczone","richtext","password"].includes(c)&&!!c},E=(r,c)=>{typeof r=="function"?r(c):r!=null&&(r.current=c)},g=(...r)=>c=>r.forEach(u=>E(u,c));var k=n(27361),b=n.n(k);const S=(r,c)=>Object.keys(r).reduce((u,o)=>{const f=b()(r,[o],{}),{default:s,component:e,type:t,required:a,min:l,repeatable:i}=f;if(s!==void 0&&(u[o]=s),t==="component"){const y=c?.[e]?.attributes??{},T=S(y,c);if(a===!0&&(u[o]=i===!0?[]:T),l&&i===!0&&a){u[o]=[];for(let v=0;v<l;v+=1)u[o].push(T)}}return t==="dynamiczone"&&a===!0&&(u[o]=[]),u},{}),U=S;var I=n(57557),X=n.n(I);const H=({layouts:r,metadatas:c,...u})=>{const o=r.list.map(e=>e.name?e.name:e),f=Object.keys(c).reduce((e,t)=>{const a=b()(c,[t],{});let l=a.edit;return l.mainField&&(l={...l,mainField:a.edit.mainField.name}),{...e,[t]:{edit:l,list:X()(a.list,["mainField"])}}},{}),s=r.edit.map(e=>e.map(({name:t,size:a})=>({name:t,size:a})));return{...u,layouts:{edit:s,list:o},metadatas:f}},K=(r,c)=>r.map(u=>({...u,subject:c})),Q=r=>{const c={create:[{action:"plugin::content-manager.explorer.create",subject:null}],delete:[{action:"plugin::content-manager.explorer.delete",subject:null}],publish:[{action:"plugin::content-manager.explorer.publish",subject:null}],read:[{action:"plugin::content-manager.explorer.read",subject:null}],update:[{action:"plugin::content-manager.explorer.update",subject:null}]};return Object.keys(c).reduce((u,o)=>(u[o]=K(c[o],r),u),{})};var J=n(7654),V=n.n(J);const q=r=>r.split(".").filter(c=>V()(parseInt(c,10))),j=r=>{if(r.length===0)return-1;const c=Math.max.apply(Math,r.map(u=>u.__temp_key__??0));return Number.isNaN(c)?-1:c},ee=r=>`/content-manager/${r}`;var oe=n(69881),te=n(56723),ie=n(36968),ae=n.n(ie);const Z=(r,c,u)=>{const o=t=>c.find(a=>a.uid===t),f=Object.assign({},r),s=r[u].uid,e=o(s);return ae()(f,[u],{...r[u],...e}),Object.keys(r.components).forEach(t=>{const a=o(t);ae()(f,["components",t],{...r.components[t],...a})}),f};var p=n(52358);const ue=(r,c,u)=>{const o=(f,s)=>Object.keys(f).reduce((e,t)=>{const a=(0,p.UN)(s,t),l=b()(f,t),i=(0,p.k2)(s,[t,"component"]),y=(0,p.k2)(s,[t,"repeatable"]);return a==="dynamiczone"?(e[t]=l.map(T=>o(T,u[T.__component])),e):a==="component"?(y?e[t]=l&&l.map(T=>o(T,u[i])):e[t]=l&&o(l,u[i]),e):(a!=="password"&&(e[t]=l),e)},{});return o(r,c)};var ge=n(51584),le=n.n(ge),pe=n(41609),Y=n.n(pe),Te=n(14841),B=n.n(Te),O=n(87561),z=n(24056);O.kM(O.nK,"defined",function(){return this.test("defined",p.I0.required,r=>r!==void 0)}),O.kM(O.IX,"notEmptyMin",function(r){return this.test("notEmptyMin",p.I0.min,c=>Y()(c)?!0:c.length>=r)}),O.kM(O.Z_,"isInferior",function(r,c){return this.test("isInferior",r,function(u){return!u||Number.isNaN(B()(u))?!0:B()(c)>=B()(u)})}),O.kM(O.Z_,"isSuperior",function(r,c){return this.test("isSuperior",r,function(u){return!u||Number.isNaN(B()(u))?!0:B()(u)>=B()(c)})});const ce=r=>b()(r,["attributes"],{}),ne=(r,{components:c},u={isCreatingEntry:!0,isDraft:!0,isFromComponent:!1})=>{const o=ce(r);return O.Ry().shape(Object.keys(o).reduce((f,s)=>{const e=o[s];if(e.type!=="relation"&&e.type!=="component"&&e.type!=="dynamiczone"){const t=de(e.type,e,u);f[s]=t}if(e.type==="relation"&&(f[s]=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"].includes(e.relationType)?O.Ry().nullable():O.IX().nullable()),e.type==="component"){const t=ne(c[e.component],{components:c},{...u,isFromComponent:!0});if(e.repeatable===!0){const{min:l,max:i,required:y}=e;let T=O.Vo(v=>{let A=O.IX().of(t);return l?y?A=A.min(l,p.I0.min):y!==!0&&Y()(v)?A=A.nullable():A=A.min(l,p.I0.min):y&&!u.isDraft&&(A=A.min(1,p.I0.required)),i&&(A=A.max(i,p.I0.max)),A});return f[s]=T,f}const a=O.Vo(l=>l!==void 0?e.required===!0&&!u.isDraft?t.defined():t.nullable():e.required===!0?O.Ry().defined():O.Ry().nullable());return f[s]=a,f}if(e.type==="dynamiczone"){let t=O.IX().of(O.Vo(({__component:i})=>ne(c[i],{components:c},{...u,isFromComponent:!0})));const{max:a,min:l}=e;l?e.required?t=t.test("min",p.I0.min,i=>u.isCreatingEntry?i&&i.length>=l:i===void 0?!0:i!==null&&i.length>=l).test("required",p.I0.required,i=>u.isCreatingEntry?i!==null||i!==void 0:i===void 0?!0:i!==null):t=t.notEmptyMin(l):e.required&&!u.isDraft&&(t=t.test("required",p.I0.required,i=>u.isCreatingEntry?i!==null||i!==void 0:i===void 0?!0:i!==null)),a&&(t=t.max(a,p.I0.max)),f[s]=t}return f},{}))},de=(r,c,u)=>{let o=O.nK();return["string","uid","text","richtext","email","password","enumeration"].includes(r)&&(o=O.Z_()),r==="json"&&(o=O.nK(p.I0.json).test("isJSON",p.I0.json,f=>{if(!f||!f.length)return!0;try{return JSON.parse(f),!0}catch{return!1}}).nullable().test("required",p.I0.required,f=>!(c.required&&(!f||!f.length)))),r==="email"&&(o=o.email(p.I0.email)),["number","integer","float","decimal"].includes(r)&&(o=O.Rx().transform(f=>V()(f)?void 0:f).typeError()),r==="biginteger"&&(o=O.Z_().matches(/^-?\d*$/)),["date","datetime"].includes(r)&&(o=O.hT()),Object.keys(c).forEach(f=>{const s=c[f];if(s||!le()(s)&&Number.isInteger(Math.floor(s))||s===0)switch(f){case"required":{u.isDraft||(r==="password"&&u.isCreatingEntry&&(o=o.required(p.I0.required)),r!=="password"&&(u.isCreatingEntry?o=o.required(p.I0.required):o=o.test("required",p.I0.required,e=>e===void 0&&!u.isFromComponent?!0:(0,z.Z)(r)?e===0?!0:!!e:r==="boolean"?e!=null:r==="date"||r==="datetime"?typeof e=="string"?!Y()(e):!Y()(e?.toString()):!Y()(e))));break}case"max":{r==="biginteger"?o=o.isInferior(p.I0.max,s):o=o.max(s,p.I0.max);break}case"maxLength":o=o.max(s,p.I0.maxLength);break;case"min":{r==="biginteger"?o=o.isSuperior(p.I0.min,s):o=o.min(s,p.I0.min);break}case"minLength":{u.isDraft||(o=o.min(s,p.I0.minLength));break}case"regex":o=o.matches(new RegExp(s),{message:p.I0.regex,excludeEmptyString:!c.required});break;case"lowercase":["text","textarea","email","string"].includes(r)&&(o=o.strict().lowercase());break;case"uppercase":["text","textarea","email","string"].includes(r)&&(o=o.strict().uppercase());break;case"positive":(0,z.Z)(r)&&(o=o.positive());break;case"negative":(0,z.Z)(r)&&(o=o.negative());break;default:o=o.nullable()}}),o},me=ne},24056:(x,h,n)=>{n.d(h,{Z:()=>d});function d(m){return["integer","biginteger","decimal","float","number"].includes(m)}},53616:(x,h,n)=>{n.d(h,{$k:()=>C,FT:()=>E,Nj:()=>M,Ot:()=>P,QM:()=>L,lv:()=>D,sN:()=>m,uL:()=>g,x4:()=>R});var d=n(42675);const m="settings_review-workflows",L="Settings/Review_Workflows/SET_WORKFLOWS",R="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",P="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",M="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",C="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",D={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},E=d.W.colors.primary600,g={STAGE:"stage"}},53752:(x,h,n)=>{n.d(h,{n:()=>L});var d=n(52358),m=n(88767);function L(R={}){const{id:P="",...M}=R,C={populate:"stages"},{get:D}=(0,d.kY)(),{data:E,isLoading:g,status:k,refetch:b}=(0,m.useQuery)(["review-workflows","workflows",P],async()=>{try{const{data:{data:U}}=await D(`/admin/review-workflows/workflows/${P}`,{params:{...C,...M}});return U}catch{return null}});let S=[];return P&&E?S=[E]:Array.isArray(E)&&(S=E),{workflows:S,isLoading:g,status:k,refetch:b}}},13037:(x,h,n)=>{n.d(h,{k:()=>L,s:()=>R});var d=n(42675),m=n(53616);function L(P){if(!P)return null;const C=Object.entries(d.W.colors).filter(([,D])=>D.toUpperCase()===P.toUpperCase()).reduce((D,[E])=>(m.lv?.[E]&&(D=E),D),null);return C?{themeColorName:C,name:m.lv[C]}:null}function R(){return Object.entries(m.lv).map(([P,M])=>({hex:d.W.colors[P].toUpperCase(),name:M}))}}}]);
